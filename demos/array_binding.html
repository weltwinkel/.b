<!DOCTYPE html>
<head>
    <title>databinding</title>
<script src="ext/jquery.js"></script>
<script src="../src/b.js"></script>
<script src="../src/b.binders.js"></script>
<script src="../src/b.formatters.js"></script>
<script src="../src/b.jQuery.js"></script>
</head>
<body>
<script>

// create objects
var devices = []; // create array where all devices are stored

var device = function(parameters){
	obj = this; // get instance
	for(var key in parameters){ // loop attributes
		obj[ key ] = parameters[ key ]; // set attribute
	}
	
	obj.id = devices.length;
	devices.push(obj);
};
	
// create the devices
for(var i = 0; i < 10; i++){
	new device({alias : "Device " + i, status : "0"});
	}



$(function(){

	$("<span>").b({html : "dev.status:worstErr"},{dev : devices}).appendTo("body");
});

/*
window.setInterval(function(){

	devices.forEach(function(device){
		var stat = Math.round(Math.random()*6);
		try{
			device._set("status", stat.toString() );
			}catch(e){}
		});
	},1000);
*/
</script>
<style>
body > div{margin:1px;}
body > div > span{padding:10px; display:inline-block;}

</style>
</body>
</html>